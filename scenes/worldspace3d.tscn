[gd_scene load_steps=6 format=3 uid="uid://c8uvtud87j7bm"]

[ext_resource type="PackedScene" uid="uid://2q6yeun0jg1p" path="res://scenes/clipmap.tscn" id="1_5mt3c"]
[ext_resource type="PackedScene" uid="uid://bbonwc6tlp0h5" path="res://scenes/character.tscn" id="2_8tygs"]
[ext_resource type="Environment" uid="uid://dg5q01dg3xxw4" path="res://resources/environment/default_environment.tres" id="3_bm8iw"]
[ext_resource type="PackedScene" uid="uid://b21bnrx0i5bfk" path="res://scenes/temporary/shader_test_shapes.tscn" id="4_wjbrr"]

[sub_resource type="BoxMesh" id="BoxMesh_rinyd"]
size = Vector3(20, 20, 20)

[node name="Worldspace3d" type="Node3D"]

[node name="Clipmap" parent="." instance=ExtResource("1_5mt3c")]
endless_terrain = true
generate_lod = true
grid_size = 7
update_interval_sec = 3.0

[node name="PlayerRegistry" type="Node" parent="."]

[node name="Character" parent="PlayerRegistry" instance=ExtResource("2_8tygs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 40, 0)

[node name="3dEnvironmentManager" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="3dEnvironmentManager"]
environment = ExtResource("3_bm8iw")

[node name="SunMoonRotationFix" type="Node3D" parent="3dEnvironmentManager"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 100, 0)

[node name="Sun" type="DirectionalLight3D" parent="3dEnvironmentManager/SunMoonRotationFix"]
transform = Transform3D(1, 0, 0, 0, 0.258819, 0.965926, 0, -0.965926, 0.258819, 0, 0, 0)
light_energy = 1.1
directional_shadow_blend_splits = true

[node name="Moon" type="DirectionalLight3D" parent="3dEnvironmentManager/SunMoonRotationFix"]
transform = Transform3D(1, 0, 0, 0, 0.258819, 0.965926, 0, -0.965926, 0.258819, 0, 0, 0)
visible = false
light_energy = 1.1
directional_shadow_blend_splits = true

[node name="ShaderTestShapes" parent="." instance=ExtResource("4_wjbrr")]
transform = Transform3D(0.999997, 0.00226893, 0, -0.00225187, 0.99248, 0.122389, 0.000277692, -0.122389, 0.992482, -18.8341, 36.1398, 0)

[node name="BigCube" type="MeshInstance3D" parent="."]
transform = Transform3D(0.575819, 0.685864, -0.444997, 0, 0.544288, 0.838899, 0.817577, -0.483054, 0.313411, -47.4056, 51.7734, 0)
mesh = SubResource("BoxMesh_rinyd")
